#!/bin/bash
logit(){
	logthis "ipfs-check: $1"
}


ipfs files ls /zarchive
if [ $? != 0 ]; then logit "/zarchive is missing" ; fi

ipfs files ls /zlatest
if [ $? != 0 ]; then logit "/zlatest is missing" ; fi

ipfs key list | grep zchain
if [ $? != 0 ]; then
	logit "zchain key is missing" 
	ipfs key gen zchain > $ZCHAIN
	if [ $? != 0 ]; then
		logit "zchain fails to create"
	else
		logit "zchain created"
	fi
fi

ipfs key list | grep ak-config
if [ $? != 0 ]; then
       	logit "ak-config key is missing" 
	ipfs key gen ak-config
	if [ $? != 0 ]; then
		logit "ak-config fails to create"
	else
		logit "ak-config created"
	fi
fi
