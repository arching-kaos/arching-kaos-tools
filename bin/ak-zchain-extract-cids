#!/bin/bash
##
## Extracts unique IPFS CIDs from an ak-entered zchain
##
##    -h, --help                  Prints this help message
##
#
# Previously:
# ak-enter | jq | grep Qm | sed -e 's/^.*Qm/Qm/g' | cut -d '"' -f 1
#
if [ ! -z $1 ] && [ -n "$1" ]
then
    ak-enter $1 | jq  -M | grep Qm | sed -e 's/".*"://g; s/ //g; s/[{,"]//g' | sort | uniq
else
    ak-enter | jq -M | grep Qm | sed -e 's/".*"://g; s/ //g; s/[{,"]//g' | sort | uniq
fi
